<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Her</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Cormorant+Garamond:wght@400;500&display=swap" rel="stylesheet">

<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:"Cormorant Garamond", serif;}
body {overflow-x:hidden; text-align:center; background:linear-gradient(135deg,#672e41,#09060a); color:#f5efe9; transition:background 10s ease infinite;}
section {min-height:100vh; display:flex; align-items:center; justify-content:center; padding:60px 20px; text-align:center; flex-direction:column;}

/* Countdown */
#countdown {font-family:"Playfair Display", serif; font-size:3rem; letter-spacing:3px; color:#e6c9a8; margin-bottom:20px;}

/* Photos */
.photos {display:flex; flex-direction:column; gap:40px; margin-bottom:40px;}
.photos img {width:85%; max-width:800px; border-radius:18px; opacity:0; transform:translateY(50px); animation:fadeUp 1.5s ease forwards;}
.photos img:nth-child(1){animation-delay:.3s;}
.photos img:nth-child(2){animation-delay:.9s;}
.photos img:nth-child(3){animation-delay:1.5s;}
@keyframes fadeUp {to {opacity:1; transform:translateY(0);}}

/* Intro Text */
.text {max-width:900px; font-size:1.6rem; line-height:1.9; opacity:0; animation:fadeText 2s ease forwards; animation-delay:2s;}
@keyframes fadeText {to {opacity:1;}}

/* Question Section */
.question {display:flex; flex-direction:column; gap:20px; margin-top:40px;}
.question h1 {font-family:"Playfair Display", serif; font-size:3rem; margin-bottom:30px;}
.buttons {display:flex; flex-direction:column; gap:15px;}
button {background:transparent; border:1px solid #e6c9a8; color:#e6c9a8; padding:16px 42px; font-size:1.1rem; border-radius:40px; cursor:pointer; transition:all .3s ease;}
button:hover {background:#e6c9a8; color:#09060a; box-shadow:0 0 25px #e6c9a870; transform:scale(1.05);}

/* Final Text */
.final-text {font-size:1.6rem; max-width:900px; opacity:0; margin-top:40px; min-height:80px;}

/* Canvas for fireworks & hearts */
canvas {position:fixed; inset:0; pointer-events:none; display:none; z-index:10;}
</style>
</head>

<body>

<!-- Countdown -->
<section>
  <div id="countdown">Loading...</div>
</section>

<!-- Photos -->
<section class="photos">
  <img src="photo1.jpg.jpg">
  <img src="photo2.jpg.jpg">
  <img src="photo3.jpg.jpg">
</section>

<!-- Intro Text -->
<section>
  <div class="text">
    <section>
  <div class="text">
    Somewhere between distance and time,<br>
    you became the place my heart returns to.<br><br>

    You exist in my days quietly —<br>
    in decisions,<br>
    in pauses,<br>
    in moments where I smile for no visible reason.
  </div>
</section>

  </div>
</section>

<!-- Valentine Question -->
<section class="question">
  <h1>Will you be my Valentine?</h1>
  <div class="buttons">
    <button onclick="showFinal()">Yes</button>
    <button onclick="showFinal()">Yes, my love</button>
    <button onclick="showFinal()">Yes, always</button>
  </div>
</section>

<!-- Final Text -->
<section>
  <div class="final-text" id="final"></div>
</section>

<!-- Fireworks & Hearts Canvas -->
<canvas id="fireworks"></canvas>

<!-- Music -->
<audio id="music" src="music.mp3 (2).mp3.mp3"></audio>

<script>
// ---------- Countdown ----------
const countdownEl = document.getElementById("countdown");
// Short countdown for testing; replace with actual date if needed
const targetDate = Date.now() + 5000; // 5 sec
setInterval(()=>{
  const diff = targetDate - Date.now();
  if(diff<=0){ 
    countdownEl.innerText="❤️ Happy Valentine’s Day, my love!"; 
    return; 
  }
  const days=Math.floor(diff/(1000*60*60*24));
  const hours=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const minutes=Math.floor((diff%(1000*60*60))/(1000*60));
  const seconds=Math.floor((diff%(1000*60))/1000);
  countdownEl.innerText=`${days}d ${hours}h ${minutes}m ${seconds}s`;
},1000);

// ---------- Music ----------
document.body.addEventListener('click', ()=>{
  const bgm=document.getElementById("music");
  bgm.volume=0.5;
  bgm.play();
},{once:true});

// ---------- Valentine Answer ----------
function showFinal(){
  typeFinalText("One day, one answer,\n\nand a thousand tomorrows\nI want with you."); 
  startFireworks(); 
  scrollToFinal();
}

// Smooth scroll to final text
function scrollToFinal(){
  const final=document.getElementById("final");
  setTimeout(()=>final.scrollIntoView({behavior:"smooth",block:"center"}),50);
}

// Typing effect for final text
function typeFinalText(text){
  const final=document.getElementById("final");
  final.innerHTML="";
  let i=0;
  const interval=setInterval(()=>{
    if(i<text.length){
      if(text[i]==="\n"){ final.innerHTML+="<br>"; } 
      else{ final.innerHTML+=text[i]; }
      i++;
    } else clearInterval(interval);
    final.style.opacity="1";
  },50);
}

// ---------- Fireworks & Hearts ----------
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;
let particles=[];

function startFireworks(){
  canvas.style.display="block";
  function boom(){
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height/2;
    for(let i=0;i<80;i++){
      // Only red/pink hues for Valentine
      const hues = [0, 340, 350]; // red/pink
      const color = `hsl(${hues[Math.floor(Math.random()*hues.length)]}, 80%, 70%)`;
      particles.push({x,y,a:Math.random()*2*Math.PI,v:Math.random()*4+2,life:1,color});
    }
  }
  function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach((p,i)=>{
      p.x+=Math.cos(p.a)*p.v;
      p.y+=Math.sin(p.a)*p.v;
      p.life-=0.006;
      ctx.fillStyle = "hsla(0, 80%, 70%, 1)";
      ctx.beginPath();
      ctx.arc(p.x,p.y,2,0,Math.PI*2);
      ctx.fill();
      if(p.life<=0) particles.splice(i,1);
    });
    requestAnimationFrame(animate);
  }
  setInterval(boom,1200);
  animate();
}

// Convert HSL to RGB for canvas
function hslToRgb(hsl){
  const ctx=document.createElement("canvas").getContext("2d");
  ctx.fillStyle=hsl; 
  return ctx.fillStyle.replace('rgb(','').replace(')','');
}
</script>

</body>
</html>
